---
layout: post
title:  "1a. Pythonと数値計算 練習問題解答"
date:   2016-07-16 06:00:00 +09:00
category: python
permalink: 1-python-numpy-answer
---

* TOC
{:toc}

## Python 練習問題

(1) 0から100までの整数が順に入ったリストを2通りの方法で作ってください。


```python
x1 = [i for i in range(100)]
print x1
```

    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]



```python
x2 = []
for i in range(100):
    x2.append(i)
print x2
```

    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]


(2) 0から100までのうち3の倍数のみが含まれる集合を作ってください。


```python
x3 = [i for i in range(100) if i % 3 == 0]
print x3
```

    [0, 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99]


(3) n番目のフィボナッチ数を計算する関数fibonacci(n)を実装しましょう。フィボナッチ数Fnは以下の式で定義される整数列です。

    F_0 = 0, F_1 = 1, F_n+2 = F_n + F_n+1 (n ≧ 0)


```python
def fibonacci(n):
    if n == 0 or n == 1:
        return n
    else:
        return fibonacci(n-2) + fibonacci(n-1)

for i in range(10):
    print fibonacci(i)
```

    0
    1
    1
    2
    3
    5
    8
    13
    21
    34


## Numpy 練習問題
(1) 10x4の乱数行列Xを作り、各列ごとに値を平均0、標準偏差1になるように正規化した行列Zを作りましょう。乱数配列はnp.random.rand(d0, d1, ..., dn)で作ることができます。


```python
import numpy as np
X = np.random.rand(10, 4)
mu = np.mean(X, axis=0)
sigma = np.std(X, axis=0)
Z = (X - mu) / sigma
print Z
```

    [[ 0.7315008   1.00040965 -0.29829112 -0.96916056]
     [ 0.77501095 -0.37878285 -0.28136815  0.7167424 ]
     [ 0.38159158 -1.73051086  0.55633415  1.09078135]
     [ 2.16791371 -0.31775214  0.36836609 -0.83398312]
     [ 0.2688761  -0.43501956  1.69642302 -1.53177367]
     [-0.51263367  0.79918632 -2.20756267  0.52150647]
     [-1.03967874 -0.18278705 -0.92370766  1.24439403]
     [-0.96040162  1.04736464  0.1893376  -1.35997075]
     [-1.04468112  1.47411222  0.03734057  0.65155934]
     [-0.76749801 -1.27622035  0.86312817  0.4699045 ]]


(2) 10x4の乱数行列のうち、正の要素と負の要素それぞれについて、各行ごとに平均値を計算し、求めたそれぞれの平均値を正の値と負の値の元の場所に代入した行列を作成しましょう。


```python
Y = np.copy(Z)
for i in range(10):
    zi = Y[i, :]
    Y[i, zi >= 0] = np.mean(zi[zi >= 0])
    Y[i, zi < 0] = np.mean(zi[zi < 0])
print Y
```

    [[ 0.86595523  0.86595523 -0.63372584 -0.63372584]
     [ 0.74587668 -0.3300755  -0.3300755   0.74587668]
     [ 0.6762357  -1.73051086  0.6762357   0.6762357 ]
     [ 1.2681399  -0.57586763  1.2681399  -0.57586763]
     [ 0.98264956 -0.98339662  0.98264956 -0.98339662]
     [-1.36009817  0.66034639 -1.36009817  0.66034639]
     [-0.71539115 -0.71539115 -0.71539115  1.24439403]
     [-1.16018619  0.61835112  0.61835112 -1.16018619]
     [-1.04468112  0.72100404  0.72100404  0.72100404]
     [-1.02185918 -1.02185918  0.66651634  0.66651634]]

